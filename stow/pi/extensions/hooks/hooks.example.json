{
	"$schema": "./hooks.schema.json",
	"hooks": {
		"tool_result": [
			{
				"matcher": "write|edit",
				"hooks": [
					{
						"type": "agent",
						"agent": "reviewer",
						"prompt": "Review the following file change for code quality issues. Return JSON: { \"ok\": true } if acceptable, or { \"ok\": false, \"reason\": \"...\" } if issues found.\n\n$ARGUMENTS",
						"timeout": 60,
						"async": true
					}
				]
			}
		],
		"tool_call": [
			{
				"matcher": "bash",
				"hooks": [
					{
						"type": "command",
						"command": "~/.pi/hooks/validate-bash.sh",
						"timeout": 5,
						"statusMessage": "Validating command..."
					}
				]
			}
		],
		"agent_end": [
			{
				"hooks": [
					{
						"type": "agent",
						"agent": "reviewer",
						"prompt": "The agent has finished responding. Review the conversation and check if all tasks were completed successfully. Return { \"ok\": true } if complete, or { \"ok\": false, \"reason\": \"...\" } with what still needs to be done.\n\n$ARGUMENTS",
						"async": true
					}
				]
			}
		]
	}
}
